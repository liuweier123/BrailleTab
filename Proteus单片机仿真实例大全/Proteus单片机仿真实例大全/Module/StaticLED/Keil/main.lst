C51 COMPILER V8.05a   MAIN                                                                 08/11/2007 16:37:49 PAGE 1   


C51 COMPILER V8.05a, COMPILATION OF MODULE MAIN
OBJECT MODULE PLACED IN main.obj
COMPILER INVOKED BY: C:\Keil\C51\BIN\C51.EXE sources\main.c BROWSE INCDIR(.\include) DEBUG OBJECTEXTEND PRINT(.\main.lst
                    -) OBJECT(main.obj)

line level    source

   1          //*************************************************************************************************
   2          //*************************************************************************************************
   3          //**<程序名>：LED静态显示                                                                                                                                                **
   4          //**<功能>：使用74LS164向LED串行传送数据。                                                                                                               **
   5          //**<作者>：LastRitter                                                                                                                                                   **
   6          //**<完成时间>：2007年7月31日                                                                                                                                    **
   7          //**<联系方式>：E-Mail:superyongzhe@163.com;QQ:314665345。                                                                               **
   8          //*************************************************************************************************
   9          //*************************************************************************************************
  10          
  11          
  12          //*************************************************************************************************
  13          //*                                                                                                                                                                                               *
  14          //*                      ******************************头文件及宏定义**************************                           *
  15          //*                                                                                                                                                                                               *
  16          //*************************************************************************************************
  17          #include "includes.h"
  18          
  19          
  20          #define TIME0H 0x40
  21          #define TIME0L 0x98                              //49ms
  22          
  23          
  24          //*************************************************************************************************
  25          //*                                                                                                                                                                                               *
  26          //*                       ********************************全局变量******************************                          *
  27          //*                                                                                                                                                                                               *
  28          //*************************************************************************************************
  29          unsigned char uc_TimeCount=0;
  30          unsigned int ui_Number=0;
  31          
  32          //*************************************************************************************************
  33          //*                                                                                                                                                                                               *
  34          //*                       ********************************主函数******************************                            *
  35          //*                                                                                                                                                                                               *
  36          //*************************************************************************************************
  37          void main()
  38          {
  39   1      
  40   1      //<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<设置串口模式>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
  41   1              SM0=0;                                     //模式0
  42   1              SM1=0;
  43   1      
  44   1      
  45   1      //<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<设置定时器0>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
  46   1              TMOD=0x01;                               //定时器0：模式1
  47   1              TH0=TIME0H;
  48   1              TL0=TIME0L;
  49   1              TR0=1;
  50   1              ET0=1;
  51   1      
  52   1              EA=1;
  53   1      
  54   1      //<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<主循环>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>
C51 COMPILER V8.05a   MAIN                                                                 08/11/2007 16:37:49 PAGE 2   

  55   1              while(1);
  56   1      }
  57          
  58          
  59          //*************************************************************************************************
  60          //*                                                                                                                                                                                               *
  61          //*                       ***********************定时器0中断，用于刷新计数*********************                           *
  62          //*                                                                                                                                                                                               *
  63          //*************************************************************************************************
  64          void vTimer0() interrupt 1
  65          {
  66   1              if(uc_TimeCount==0)
  67   1                      {
  68   2                      uc_TimeCount=19;
  69   2                      vShowNumber(ui_Number++);
  70   2                      }
  71   1              else uc_TimeCount--;
  72   1      
  73   1      
  74   1      //<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<<回复定时器>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>>             
  75   1              TH0=TIME0H;
  76   1              TL0=TIME0L;
  77   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    109    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      3    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
